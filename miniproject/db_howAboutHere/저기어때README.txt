저기어때

김재근
엄선호
주세연

숙소/레저 예약
결제
쿠폰
찜목록
장바구니
리뷰

다이어그램 : https://app.diagrams.net/#G19zd-DDhwBjIKUDZYqcwmZvPo5F20Wjnx#%7B%22pageId%22%3A%22XquGlBJg22OC6cnvaf--%22%7D
erd : https://www.erdcloud.com/d/Yt3TWpLS69s9kCx9F

장바구니 조회:
해당 날짜에 예약된 숙소정보들을 count해서 숙소테이블의 룸 개수에서 빼줌
이때 coalesce함수로 null인경우 0으로 치환하여 원래 개수를 나오게 함
인라인뷰를 이용해 숙소정보를 가져홈


찜목록 조회:
장바구니와 비슷


예약하기:
쿠폰사용여부와 쿠폰id 추가

결제하기:
예약하기정보를 기준으로 결제정보생성
쿠폰할인율을 총금액에 적용해서 최종결제금액 생성

내 예약/결제 목록:
스칼라쿼리로 숙소/레저이름 가져옴
if문으로 null값대응

리뷰조회:
리뷰가 숙소나 레저 한쪽만 있는것을 대응하기위해 left join을 두번 사용

전체호텔조회:
선택한 날짜에 모든 호텔의 예약가능한 방수와 이름을 출력







